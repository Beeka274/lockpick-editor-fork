[gd_scene load_steps=11 format=3 uid="uid://dyco7sgfehqpl"]

[ext_resource type="Script" path="res://editor/editor.gd" id="1_244aj"]
[ext_resource type="Script" path="res://editor/level_container.gd" id="2_4nmqi"]
[ext_resource type="Script" path="res://level_elements/level.gd" id="3_27pmi"]
[ext_resource type="TileSet" uid="uid://56svi3hkvtjv" path="res://rendering/tiles/w1_tileset.tres" id="3_262xn"]
[ext_resource type="PackedScene" uid="uid://h5opptcugh0i" path="res://level_elements/doors_locks/door.tscn" id="3_d13v5"]
[ext_resource type="Script" path="res://level_elements/level_data.gd" id="4_2s70h"]
[ext_resource type="PackedScene" uid="uid://b0dwb73yoj3sr" path="res://level_elements/keys/key.tscn" id="4_tvl64"]
[ext_resource type="PackedScene" uid="uid://dqsf6y71ncn36" path="res://editor/door_editor.tscn" id="5_ld4m3"]
[ext_resource type="PackedScene" uid="uid://qk8x2wvdqp7i" path="res://editor/key_editor.tscn" id="7_nmnlx"]

[sub_resource type="Resource" id="Resource_35qov"]
script = ExtResource("4_2s70h")
doors = Array[Resource("res://data/door_data.gd")]([])
size = Vector2(800, 608)
player_spawn_position = Vector2(462, 384)

[node name="Editor" type="Control" node_paths=PackedStringArray("level", "side_container", "door_editor", "key_editor", "tile_editor", "level_container")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_244aj")
level = NodePath("VBoxContainer/HBoxContainer/LevelContainer/LevelContainerInner/Level")
side_container = NodePath("VBoxContainer/HBoxContainer/RightDock/SideEditorTabs")
door_editor = NodePath("VBoxContainer/HBoxContainer/RightDock/SideEditorTabs/DoorEditor")
key_editor = NodePath("VBoxContainer/HBoxContainer/RightDock/SideEditorTabs/KeyEditor")
tile_editor = NodePath("VBoxContainer/HBoxContainer/RightDock/SideEditorTabs/Tiles")
level_container = NodePath("VBoxContainer/HBoxContainer/LevelContainer")

[node name="Panel" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Tools" type="MarginContainer" parent="VBoxContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/Tools"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="LevelContainer" type="Control" parent="VBoxContainer/HBoxContainer" node_paths=PackedStringArray("inner_container", "level", "tile_map", "door_editor")]
clip_contents = true
layout_mode = 2
size_flags_horizontal = 3
script = ExtResource("2_4nmqi")
DOOR = ExtResource("3_d13v5")
inner_container = NodePath("LevelContainerInner")
level = NodePath("LevelContainerInner/Level")
tile_map = NodePath("LevelContainerInner/Level/TileMap")
door_editor = NodePath("../RightDock/SideEditorTabs/DoorEditor")

[node name="Panel" type="Panel" parent="VBoxContainer/HBoxContainer/LevelContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ColorRect" type="ColorRect" parent="VBoxContainer/HBoxContainer/LevelContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0.0823529)

[node name="LevelContainerInner" type="Control" parent="VBoxContainer/HBoxContainer/LevelContainer"]
clip_contents = true
layout_mode = 1
anchors_preset = 0

[node name="GhostDoor" parent="VBoxContainer/HBoxContainer/LevelContainer/LevelContainerInner" instance=ExtResource("3_d13v5")]
layout_mode = 0

[node name="GhostKey" parent="VBoxContainer/HBoxContainer/LevelContainer/LevelContainerInner" instance=ExtResource("4_tvl64")]

[node name="ColorRect" type="ColorRect" parent="VBoxContainer/HBoxContainer/LevelContainer/LevelContainerInner"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0, 0, 1)

[node name="Level" type="Node2D" parent="VBoxContainer/HBoxContainer/LevelContainer/LevelContainerInner"]
script = ExtResource("3_27pmi")
level_data = SubResource("Resource_35qov")

[node name="TileMap" type="TileMap" parent="VBoxContainer/HBoxContainer/LevelContainer/LevelContainerInner/Level"]
tile_set = ExtResource("3_262xn")
format = 2
layer_0/tile_data = PackedInt32Array(786440, 65537, 1, 589832, 65537, 1, 262152, 65537, 1, 262155, 65537, 1, 589836, 65537, 1, 655372, 65537, 1, 458763, 65537, 1, 458769, 65537, 1, 262161, 65537, 1, 262164, 65537, 1, 589844, 65537, 1, 786452, 65537, 1, 655376, 65537, 1, 589840, 65537, 1, 720916, 65537, 1, 655380, 65537, 1, 524308, 65537, 1, 458772, 65537, 1, 393236, 65537, 1, 327700, 65537, 1, 393233, 65537, 1, 327697, 65537, 1, 393227, 65537, 1, 327691, 65537, 1, 589835, 65537, 1, 589834, 65537, 1, 589833, 65537, 1, 720904, 65537, 1, 655368, 65537, 1, 524296, 65537, 1, 458760, 65537, 1, 393224, 65537, 1, 327688, 65537, 1, 262153, 65537, 1, 262154, 65537, 1, 262156, 65537, 1, 262157, 65537, 1, 262158, 65537, 1, 262159, 65537, 1, 262160, 65537, 1, 262162, 65537, 1, 262163, 65537, 1, 589843, 65537, 1, 589842, 65537, 1, 589841, 65537, 1, 786451, 65537, 1, 786450, 65537, 1, 786449, 65537, 1, 786448, 65537, 1, 786447, 65537, 1, 786446, 65537, 1, 786445, 65537, 1, 786444, 65537, 1, 786443, 65537, 1, 786442, 65537, 1, 786441, 65537, 1)

[node name="RightDock" type="MarginContainer" parent="VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 8

[node name="SideEditorTabs" type="TabContainer" parent="VBoxContainer/HBoxContainer/RightDock"]
layout_mode = 2
use_hidden_tabs_for_min_size = true

[node name="DoorEditor" parent="VBoxContainer/HBoxContainer/RightDock/SideEditorTabs" instance=ExtResource("5_ld4m3")]
layout_mode = 2

[node name="KeyEditor" parent="VBoxContainer/HBoxContainer/RightDock/SideEditorTabs" instance=ExtResource("7_nmnlx")]
visible = false
layout_mode = 2

[node name="Tiles" type="MarginContainer" parent="VBoxContainer/HBoxContainer/RightDock/SideEditorTabs"]
visible = false
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/HBoxContainer/RightDock/SideEditorTabs/Tiles"]
layout_mode = 2

[node name="Label" type="Label" parent="VBoxContainer/HBoxContainer/RightDock/SideEditorTabs/Tiles/VBoxContainer"]
layout_mode = 2
text = "Nothing here (yet?), but you still need to select this tab to edit tiles."
horizontal_alignment = 1
autowrap_mode = 3
