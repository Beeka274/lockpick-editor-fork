[gd_scene load_steps=19 format=3 uid="uid://ddjn4lk6mcp3k"]

[ext_resource type="Script" path="res://editor/editor.gd" id="1_244aj"]
[ext_resource type="Script" path="res://editor/level_container.gd" id="2_4nmqi"]
[ext_resource type="PackedScene" uid="uid://h5opptcugh0i" path="res://level_elements/doors_locks/door.tscn" id="3_d13v5"]
[ext_resource type="PackedScene" uid="uid://b0dwb73yoj3sr" path="res://level_elements/keys/key.tscn" id="4_tvl64"]
[ext_resource type="PackedScene" uid="uid://dqsf6y71ncn36" path="res://editor/door_editor.tscn" id="5_ld4m3"]
[ext_resource type="PackedScene" uid="uid://me5bp2qss0qj" path="res://level_elements/level.tscn" id="5_t6w1l"]
[ext_resource type="Resource" uid="uid://b12m5jhti4o55" path="res://editor/levels/default.tres" id="6_n1ajy"]
[ext_resource type="PackedScene" uid="uid://qk8x2wvdqp7i" path="res://editor/key_editor.tscn" id="7_nmnlx"]
[ext_resource type="Script" path="res://data/complex_number.gd" id="8_alamw"]
[ext_resource type="Script" path="res://data/door_data.gd" id="9_2s68o"]
[ext_resource type="Script" path="res://data/lock_data.gd" id="9_5wk1m"]
[ext_resource type="PackedScene" uid="uid://bq8lnotf0ys0p" path="res://editor/level_properties_editor.tscn" id="10_jx68y"]
[ext_resource type="Script" path="res://data/key_data.gd" id="12_2ius3"]

[sub_resource type="Resource" id="Resource_fqscb"]
script = ExtResource("8_alamw")
real_part = 1
imaginary_part = 0

[sub_resource type="Resource" id="Resource_pbfxh"]
script = ExtResource("9_5wk1m")
color = 1
magnitude = 1
sign = 0
value_type = 0
lock_type = 0
size = Vector2i(18, 18)
position = Vector2i(7, 7)
lock_arrangement = 0
dont_show_lock = false

[sub_resource type="Resource" id="Resource_4h4un"]
script = ExtResource("9_2s68o")
amount = SubResource("Resource_fqscb")
outer_color = 1
locks = Array[ExtResource("9_5wk1m")]([SubResource("Resource_pbfxh")])
size = Vector2i(32, 32)
_curses = {
0: false,
1: false,
2: false,
3: false
}
glitch_color = 13
position = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_1yt43"]
script = ExtResource("8_alamw")
real_part = 1
imaginary_part = 0

[sub_resource type="Resource" id="Resource_w3o7v"]
script = ExtResource("12_2ius3")
amount = SubResource("Resource_1yt43")
type = 0
color = 1
position = Vector2i(0, 0)

[node name="Editor" type="Control" node_paths=PackedStringArray("level", "right_dock", "side_tabs", "door_editor", "key_editor", "tile_editor", "level_properties_editor", "level_container", "play_button", "save_button", "save_as_button", "load_button", "level_path_displayer", "more_options", "file_dialog")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_244aj")
level = NodePath("HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level")
right_dock = NodePath("HSplitContainer/RightDock")
side_tabs = NodePath("HSplitContainer/RightDock/SideEditorTabs")
door_editor = NodePath("HSplitContainer/RightDock/SideEditorTabs/Doors")
key_editor = NodePath("HSplitContainer/RightDock/SideEditorTabs/Keys")
tile_editor = NodePath("HSplitContainer/RightDock/SideEditorTabs/Tiles")
level_properties_editor = NodePath("HSplitContainer/RightDock/SideEditorTabs/Level")
level_container = NodePath("HSplitContainer/LeftSide/LevelContainer")
play_button = NodePath("HSplitContainer/LeftSide/Tools/HBoxContainer/Play")
save_button = NodePath("HSplitContainer/LeftSide/Tools/HBoxContainer/Save")
save_as_button = NodePath("HSplitContainer/LeftSide/Tools/HBoxContainer/SaveAs")
load_button = NodePath("HSplitContainer/LeftSide/Tools/HBoxContainer/Load")
level_path_displayer = NodePath("HSplitContainer/LeftSide/Tools/HBoxContainer/LevelPath")
more_options = NodePath("HSplitContainer/LeftSide/Tools/HBoxContainer/MoreOptions")
file_dialog = NodePath("FileDialogue")

[node name="Panel" type="Panel" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HSplitContainer" type="HSplitContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LeftSide" type="VBoxContainer" parent="HSplitContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Tools" type="MarginContainer" parent="HSplitContainer/LeftSide"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="HSplitContainer/LeftSide/Tools"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 5

[node name="Play" type="Button" parent="HSplitContainer/LeftSide/Tools/HBoxContainer"]
layout_mode = 2
text = "Play"

[node name="Save" type="Button" parent="HSplitContainer/LeftSide/Tools/HBoxContainer"]
layout_mode = 2
text = "Save"

[node name="SaveAs" type="Button" parent="HSplitContainer/LeftSide/Tools/HBoxContainer"]
layout_mode = 2
text = "Save As..."

[node name="Load" type="Button" parent="HSplitContainer/LeftSide/Tools/HBoxContainer"]
layout_mode = 2
text = "Load"

[node name="MoreOptions" type="MenuButton" parent="HSplitContainer/LeftSide/Tools/HBoxContainer"]
layout_mode = 2
text = "More..."

[node name="LevelPath" type="LineEdit" parent="HSplitContainer/LeftSide/Tools/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 10
text = "res://fgsdfgsdfgt.tres"
alignment = 1
editable = false
expand_to_text_length = true
context_menu_enabled = false

[node name="LevelContainer" type="Control" parent="HSplitContainer/LeftSide" node_paths=PackedStringArray("inner_container", "level", "level_viewport", "tile_map", "door_editor", "key_editor", "ghost_door", "ghost_key", "ghost_canvas_group", "editor")]
clip_contents = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("2_4nmqi")
inner_container = NodePath("LevelContainerInner")
level = NodePath("LevelContainerInner/SubViewportContainer/SubViewport/Level")
level_viewport = NodePath("LevelContainerInner/SubViewportContainer/SubViewport")
tile_map = NodePath("LevelContainerInner/SubViewportContainer/SubViewport/Level/TileMap")
door_editor = NodePath("../../RightDock/SideEditorTabs/Doors")
key_editor = NodePath("../../RightDock/SideEditorTabs/Keys")
ghost_door = NodePath("LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostDoor")
ghost_key = NodePath("LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostKey")
ghost_canvas_group = NodePath("LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup")
editor = NodePath("../../..")

[node name="Panel" type="Panel" parent="HSplitContainer/LeftSide/LevelContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="ColorRect" type="ColorRect" parent="HSplitContainer/LeftSide/LevelContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(1, 1, 1, 0.0823529)

[node name="LevelContainerInner" type="Control" parent="HSplitContainer/LeftSide/LevelContainer"]
clip_contents = true
layout_mode = 1
anchors_preset = 0
mouse_filter = 2

[node name="ColorRect" type="ColorRect" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0.54902, 0.54902, 0.54902, 1)

[node name="SubViewportContainer" type="SubViewportContainer" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewport" type="SubViewport" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer"]
handle_input_locally = false
canvas_item_default_texture_filter = 0
positional_shadow_atlas_size = 0
render_target_update_mode = 4

[node name="Level" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport" instance=ExtResource("5_t6w1l")]
level_data = ExtResource("6_n1ajy")
exclude_player = true

[node name="CanvasGroup" type="CanvasGroup" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level"]

[node name="GhostDoor" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup" instance=ExtResource("3_d13v5")]
visible = false
mouse_filter = 2
ignore_collisions = true

[node name="GhostKey" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup" instance=ExtResource("4_tvl64")]
visible = false
in_keypad = true
metadata/_edit_vertical_guides_ = [32.0]
metadata/_edit_horizontal_guides_ = [32.0]

[node name="Fill" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostKey" index="2"]
modulate = Color(0.839216, 0.811765, 0.788235, 1)

[node name="Collision" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostKey" index="5"]
process_mode = 4

[node name="Number" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostKey" index="7"]
theme_override_colors/font_color = Color(0.921569, 0.890196, 0.866667, 1)
theme_override_colors/font_shadow_color = Color(0.211765, 0.188235, 0.160784, 1)
theme_override_colors/font_outline_color = Color(0.921569, 0.890196, 0.866667, 1)

[node name="GuiInputGrabber" parent="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostKey" index="9"]
mouse_filter = 2

[node name="RightDock" type="MarginContainer" parent="HSplitContainer"]
layout_mode = 2

[node name="SideEditorTabs" type="TabContainer" parent="HSplitContainer/RightDock"]
layout_mode = 2
use_hidden_tabs_for_min_size = true

[node name="Doors" parent="HSplitContainer/RightDock/SideEditorTabs" instance=ExtResource("5_ld4m3")]
layout_mode = 2
door_data = SubResource("Resource_4h4un")

[node name="Keys" parent="HSplitContainer/RightDock/SideEditorTabs" instance=ExtResource("7_nmnlx")]
visible = false
layout_mode = 2
key_data = SubResource("Resource_w3o7v")

[node name="Tiles" type="MarginContainer" parent="HSplitContainer/RightDock/SideEditorTabs"]
visible = false
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="HSplitContainer/RightDock/SideEditorTabs/Tiles"]
layout_mode = 2

[node name="Label" type="Label" parent="HSplitContainer/RightDock/SideEditorTabs/Tiles/VBoxContainer"]
layout_mode = 2
text = "Nothing here (yet?), but you still need to select this tab to edit tiles."
horizontal_alignment = 1
autowrap_mode = 3

[node name="Level" parent="HSplitContainer/RightDock/SideEditorTabs" instance=ExtResource("10_jx68y")]
visible = false
layout_mode = 2

[node name="FileDialogue" type="FileDialog" parent="."]
size = Vector2i(356, 150)
exclusive = false
popup_window = true
extend_to_title = true
access = 1
root_subfolder = "levels"

[editable path="HSplitContainer/LeftSide/LevelContainer/LevelContainerInner/SubViewportContainer/SubViewport/Level/CanvasGroup/GhostKey"]
